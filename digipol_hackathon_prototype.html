<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Phishing Risk Analyzer</title>

<style>
body {
    font-family: "Segoe UI", sans-serif;
    background: linear-gradient(135deg, #1d2671, #c33764);
    min-height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
    color: #333;
}

.container {
    background: #fff;
    width: 700px;
    border-radius: 12px;
    padding: 30px;
    box-shadow: 0 20px 40px rgba(0,0,0,0.2);
}

h1 {
    text-align: center;
    color: #1d2671;
}

p.subtitle {
    text-align: center;
    color: #555;
    margin-bottom: 25px;
}

textarea {
    width: 100%;
    height: 130px;
    padding: 12px;
    font-size: 14px;
    border-radius: 8px;
    border: 1px solid #ccc;
    resize: none;
}

button {
    margin-top: 20px;
    width: 100%;
    padding: 14px;
    font-size: 16px;
    background: #1d2671;
    color: white;
    border: none;
    border-radius: 8px;
    cursor: pointer;
}

button:hover {
    background: #15205f;
}

.result-box {
    margin-top: 25px;
    padding: 20px;
    border-radius: 10px;
    display: none;
}

.safe { background: #e8f7ee; color: #0b6b3a; }
.medium { background: #fff4e5; color: #8a5a00; }
.high { background: #fdeaea; color: #a10000; }

ul {
    margin-top: 10px;
}

.feedback {
    margin-top: 20px;
    text-align: center;
}

.feedback button {
    width: auto;
    padding: 8px 16px;
    margin: 5px;
    font-size: 14px;
}
</style>
</head>

<body>

<div class="container">
    <h1>üõ°Ô∏è Phishing Risk Analyzer</h1>
    <p class="subtitle">
        Paste an email message or website URL to check for phishing risk
    </p>

    <textarea id="userInput" placeholder="Paste email content or URL here..." required></textarea>

    <button onclick="analyze()">Analyze Risk</button>

    <div id="result" class="result-box">
        <h3 id="riskTitle"></h3>
        <p><strong>Risk Score:</strong> <span id="score"></span>/100</p>
        <p><strong>Reasons detected:</strong></p>
        <ul id="reasons"></ul>

        <div class="feedback">
            <p>Was this detection helpful?</p>
            <button onclick="alert('Feedback noted üëç')">‚úî Yes</button>
            <button onclick="alert('Feedback noted üëç')">‚ùå No</button>
        </div>
    </div>
</div>

<script>
function analyze() {
    const text = document.getElementById("userInput").value.toLowerCase();
    let score = 0;
    let reasons = [];

    const keywordRules = {
        "urgent": 15,
        "immediately": 15,
        "action required": 15,

        "verify": 15,
        "confirm": 15,
        "update": 10,
        "revalidate": 15,

        "password": 30,
        "otp": 30,
        "pin": 25,
        "cvv": 30,

        "account blocked": 25,
        "security alert": 20,

        "click here": 10,
        "login": 10,
        "sign in": 10,

        "bank": 15,
        "paypal": 15,
        "amazon": 15
    };


    for (let word in keywordRules) {
        if (text.includes(word)) {
            score += keywordRules[word];
            reasons.push(`Suspicious keyword detected: "${word}"`);
        }
    }

    if (text.includes("http://")) {
        score += 15;
        reasons.push("Insecure HTTP link detected");
    }

    if (text.includes("@")) {
        score += 20;
        reasons.push("Suspicious '@' symbol found in URL");
    }

    if (text.includes("login-verify") || text.includes("secure-update")) {
        score += 20;
        reasons.push("Suspicious URL pattern detected");
    }

    // UI update
    const resultBox = document.getElementById("result");
    const title = document.getElementById("riskTitle");
    const scoreText = document.getElementById("score");
    const reasonList = document.getElementById("reasons");

    reasonList.innerHTML = "";
    reasons.forEach(r => {
        const li = document.createElement("li");
        li.textContent = r;
        reasonList.appendChild(li);
    });

    score = Math.min(score, 100);
    scoreText.textContent = score;

    resultBox.style.display = "block";
    resultBox.className = "result-box";

    if (score >= 45) {
        title.textContent = "üî¥ High Risk ‚Äì Likely Phishing";
        resultBox.classList.add("high");
    } else if (score >= 25) {
        title.textContent = "üü° Medium Risk ‚Äì Suspicious Content";
        resultBox.classList.add("medium");
    } else {
        title.textContent = "üü¢ Low Risk ‚Äì Appears Safe";
        resultBox.classList.add("safe");
    }
}
</script>

</body>
</html>